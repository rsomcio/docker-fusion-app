"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var e=require("react"),n=t(e),r=require("react-is"),u=t(require("object-is"));function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var i=r.Element,c=r.Portal,a=r.Fragment,l=r.StrictMode,f=r.Profiler,s=r.ContextProvider,p=r.ContextConsumer,d=r.ConcurrentMode,v=r.ForwardRef,h=r.Suspense,m=r.Memo,y=r.Lazy,x=e.Children.toArray,S=function(t){return null!==t&&"object"==typeof t},_=function(t){return x(t).filter(S)},M=function(t,e){return"object"==typeof e?o({},e,t):t},g=new Map,b={},w=void 0,C=void 0,E=function(){return o({},b)},k=function(){return new Map(g)},z=function(){var t=w;return w=void 0,t},P=function(){var t=C;return C=void 0,t},q=function(t){void 0!==t&&g.set(t[0],t[1])},j=function(t){w=void 0,b=t},F=function(t){C=void 0,g=t},R=function(t){var e=g.get(t);return void 0!==e?e:t._currentValue},D={},W=function(t){var e=t.contextType,n=t.contextTypes;if(e)return R(e);if(!n)return D;var r={};for(var u in n)r[u]=b[u];return r},U=null,O=function(t){U=t},N=function(){if(null===U)throw new Error("[react-ssr-prepass] Hooks can only be called inside the body of a function component. (https://fb.me/react-invalid-hook-call)");return U},T=null,A=null,I=!1,L=!1,$=null,H=0,V=function(t){T=t};function B(){return null===A?null===T?(I=!1,T=A={memoizedState:null,queue:null,next:null}):(I=!0,A=T):null===A.next?(I=!1,A=A.next={memoizedState:null,queue:null,next:null}):(I=!0,A=A.next),A}function Y(t,e){return"function"==typeof e?e(t):e}function G(t,e,n){var r,u=N();if(A=B(),I){var o=A.queue,i=o.dispatch;if(null!==$){var c=$.get(o);if(void 0!==c){$.delete(o);var a=A.memoizedState,l=c;do{a=t(a,l.action),l=l.next}while(null!==l);return A.memoizedState=a,[a,i]}}return[A.memoizedState,i]}r=t===Y?"function"==typeof e?e():e:void 0!==n?n(e):e,A.memoizedState=r;var f=A.queue={last:null,dispatch:null},s=f.dispatch=J.bind(null,u,f);return[A.memoizedState,s]}function J(t,e,n){if(t===N()){L=!0;var r={action:n,next:null};null===$&&($=new Map);var u=$.get(e);if(void 0===u)$.set(e,r);else{for(var o=u;null!==o.next;)o=o.next;o.next=r}}}function K(){}var Q={readContext:function(t,e){return R(t)},useContext:function(t,e){return N(),R(t)},useMemo:function(t,e){N();var n=void 0===e?null:e;if(null!==(A=B())){var r=A.memoizedState;if(null!==r&&null!==n&&function(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!u(t[n],e[n]))return!1;return!0}(n,r[1]))return r[0]}var o=t();return A.memoizedState=[o,n],o},useReducer:G,useRef:function(t){N();var e=(A=B()).memoizedState;if(null===e){var n={current:t};return A.memoizedState=n,n}return e},useState:function(t){return G(Y,t)},useCallback:function(t,e){return t},useLayoutEffect:K,useImperativeHandle:K,useEffect:K,useDebugValue:K},X=function(t){return t._status=0,t._ctor().then(function(e){"function"==typeof e?(t._result=e,t._status=1):null!==e&&"object"==typeof e&&"function"==typeof e.default?(t._result=e.default,t._status=1):t._status=2}).catch(function(){t._status=2})},Z=function(t,n,r){return 1===t._status?e.createElement(t._result,n):null},tt=function(t,e,n){return{contextMap:E(),contextStore:k(),id:N(),hook:T,kind:"frame.hooks",thenable:n,props:e,type:t}},et=function(t,e,n){try{return function(t,e,n){for(var r=t(e,n);H<25&&L;)L=!1,H+=1,A=null,r=t(e,n);return H=0,$=null,A=null,r}(t,M(e,t.defaultProps),W(t))}catch(r){if("function"!=typeof r.then)throw r;return n.push(tt(t,e,r)),null}};function nt(){return!1}function rt(){return null}var ut=function(t,e,n){return{contextMap:E(),contextStore:k(),thenable:n,kind:"frame.class",instance:e,type:t}},ot=function(t,e,n){!function(t){var e=t.updater.queue;if(e.length>0){for(var n=o({},t.state),r=0,u=e.length;r<u;r++){var i=e[r],c="function"==typeof i?i.call(t,n,t.props,t.context):i;null!==c&&o(n,c)}t.state=n,e.length=0}}(e);var r=null;try{r=e.render()}catch(r){if("function"!=typeof r.then)throw r;return n.push(ut(t,e,r)),null}if(void 0!==t.childContextTypes&&"function"==typeof e.getChildContext){var u=e.getChildContext();null!==u&&"object"==typeof u&&function(t){for(var e in w={},t)w[e]=b[e],b[e]=t[e]}(u)}if("function"!=typeof e.getDerivedStateFromProps&&("function"==typeof e.componentWillMount||"function"==typeof e.UNSAFE_componentWillMount)&&"function"==typeof e.componentWillUnmount)try{e.componentWillUnmount()}catch(t){}return e._isMounted=!1,r},it=function(t,e,n,r,u){return(i=t).prototype&&i.prototype.isReactComponent?function(t,e,n,r,u){O(null);var i=function(t,e){var n,r={queue:n=[],isMounted:nt,enqueueForceUpdate:rt,enqueueReplaceState:function(t,e){t._isMounted&&(n.length=0,n.push(e))},enqueueSetState:function(t,e){t._isMounted&&n.push(e)}},u=M(e,t.defaultProps),i=W(t),c=new t(u,i,r);if(c.props=u,c.context=i,c.updater=r,c._isMounted=!0,void 0===c.state&&(c.state=null),"function"==typeof t.getDerivedStateFromProps){var a=(0,t.getDerivedStateFromProps)(c.props,c.state);null!=a&&(c.state=o({},c.state,a))}else"function"==typeof c.componentWillMount?c.componentWillMount():"function"==typeof c.UNSAFE_componentWillMount&&c.UNSAFE_componentWillMount();return c}(t,e),c=r(u,i);return c?(n.push(ut(t,i,c)),null):ot(t,i,n)}(t,e,n,r,u):function(t,e,n,r,u){V(null),O({});var o=r(u);return o?(n.push(tt(t,e,o)),null):et(t,e,n)}(t,e,n,r,u);var i},ct=function(t,n,r){switch(function(t){switch(t.$$typeof){case c:return c;case i:switch(t.type){case d:return d;case a:return a;case f:return f;case l:return l;case h:return h;default:switch(t.type&&t.type.$$typeof){case y:return y;case m:return m;case p:return p;case s:return s;case v:return v;default:return i}}default:return}}(t)){case h:case l:case d:case f:case a:return _(t.props.children);case s:var u=t.props,o=u.children;return function(t,e){C=[t,g.get(t)],g.set(t,e)}(t.type._context,u.value),_(o);case p:var x=t.props.children;if("function"==typeof x){var S=t.type,b=R("object"==typeof S._context?S._context:S);return _(x(b))}return[];case y:var w=function(t,e,n){return 2!==t._status&&1!==t._status?(n.push({contextMap:E(),contextStore:k(),kind:"frame.lazy",thenable:X(t),props:e,type:t}),null):Z(t,e)}(t.type,t.props,n);return _(w);case m:var z=e.createElement(t.type.type,t.props);return _(z);case v:var P=t.type,q=P.render,j=M(t.props,P.defaultProps),F=e.createElement(it,j),D=it(q,j,n,r,F);return _(D);case i:if("string"==typeof t.type)return _(t.props.children);var W=it(t.type,t.props,n,r,t);return _(W);case c:default:return[]}},at=function(t,e,n,r,u){for(var i,c=Date.now();t.length>0;){var a=t[t.length-1].shift();if(void 0!==a){var l=ct(a,r,u);t.push(l),e.push(z()),n.push(P())}else t.pop(),void 0!==(i=e.pop())&&o(b,i),q(n.pop());if(Date.now()-c>5)return!0}return!1},lt=function(t,e,n){return{contextMap:E(),contextStore:k(),thenable:Promise.resolve(),kind:"frame.yield",children:t,map:e,store:n}},ft=function(t,e,n){var r=[t],u=[z()],o=[P()];at(r,u,o,e,n)&&e.unshift(lt(r,u,o))},st=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher,pt=st.current,dt=function(t,e){return 0===t.length?Promise.resolve():function(t,e,n){if("frame.yield"===t.kind){var r=t;return new Promise(function(t){setImmediate(function(){pt=st.current,st.current=Q,function(t,e,n){O(null),j(t.contextMap),F(t.contextStore),at(t.children,t.map,t.store,e,n)&&e.unshift(lt(t.children,t.map,t.store))}(r,e,n),st.current=pt,t()})})}return t.thenable.then(function(){pt=st.current,st.current=Q;var r=[];"frame.class"===t.kind?r=function(t,e){return O(null),j(e.contextMap),F(e.contextStore),ot(e.type,e.instance,t)}(e,t):"frame.hooks"===t.kind?r=function(t,e){return V(e.hook),O(e.id),j(e.contextMap),F(e.contextStore),et(e.type,e.props,t)}(e,t):"frame.lazy"===t.kind&&(r=function(t,e){return O(null),j(e.contextMap),F(e.contextStore),Z(e.type,e.props)}(0,t)),ft(_(r),e,n),st.current=pt})}(t.shift(),t,e).then(function(){return dt(t,e)})},vt=function(){};module.exports=function(t,e){var n=[],r=void 0!==e?e:vt;j({}),F(new Map);try{pt=st.current,st.current=Q,ft(_(t),n,r)}catch(t){return Promise.reject(t)}finally{st.current=pt}return dt(n,r)};
//# sourceMappingURL=react-ssr-prepass.production.min.js.map
